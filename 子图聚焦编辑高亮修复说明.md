# å­å›¾èšç„¦ç¼–è¾‘é«˜äº®ä¿®å¤è¯´æ˜

## ä¿®å¤çš„é—®é¢˜

1. **æ–°å¢èŠ‚ç‚¹æ²¡æœ‰æ˜¾ç¤ºåç§°**: ä¿®å¤äº†èŠ‚ç‚¹æ ‡ç­¾ä¸ºç©ºæ—¶çš„æ˜¾ç¤ºé—®é¢˜
2. **é«˜äº®é¢œè‰²ä¸ç¬¦åˆè¦æ±‚**: æ›´æ–°äº†é¢œè‰²æ–¹æ¡ˆï¼Œä¿®æ”¹ç”¨æ·¡è“è‰²ï¼Œæ–°å¢ç”¨æ·±è“è‰²
3. **é«˜äº®æ ·å¼æ²¡æœ‰æ­£ç¡®åº”ç”¨**: ä¿®å¤äº†æ ·å¼ç±»çš„åº”ç”¨é€»è¾‘

## å…·ä½“ä¿®å¤å†…å®¹

### 1. èŠ‚ç‚¹æ ‡ç­¾æ˜¾ç¤ºä¿®å¤

**æ–‡ä»¶**: `src/components/CustomNode.vue`

**ä¿®å¤**:
```javascript
// ä¿®å¤å‰
{{ data.label }}

// ä¿®å¤å  
{{ data.label || 'æœªå‘½åèŠ‚ç‚¹' }}
```

### 2. é«˜äº®é¢œè‰²æ–¹æ¡ˆæ›´æ–°

**æ–°å¢èŠ‚ç‚¹æ ·å¼ - æ·±è“è‰²è™šçº¿è¾¹æ¡†**:
```css
.custom-node.newly-added-node {
  border: 3px dashed #0056b3 !important;
  box-shadow: 0 0 20px rgba(0, 86, 179, 0.6) !important;
  animation: pulse-deep-blue 2s ease-in-out infinite;
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
}
```

**ä¿®æ”¹èŠ‚ç‚¹æ ·å¼ - æ·¡è“è‰²å®çº¿è¾¹æ¡†**:
```css
.custom-node.modified-node {
  border: 3px solid #64b5f6 !important;
  box-shadow: 0 0 15px rgba(100, 181, 246, 0.5) !important;
  animation: pulse-light-blue 2s ease-in-out infinite;
  background: linear-gradient(135deg, #f3f9ff 0%, #e1f5fe 100%);
}
```

### 3. è¾¹çš„é«˜äº®æ ·å¼æ›´æ–°

**æ–‡ä»¶**: `src/components/CustomEdge.vue`

**æ–°å¢å…³ç³»æ ·å¼ - æ·±è“è‰²è™šçº¿**:
```javascript
if (isNewlyAdded) {
  return {
    stroke: '#0056b3',
    strokeWidth: 4,
    strokeDasharray: '10 5',
    filter: 'drop-shadow(0 0 8px rgba(0, 86, 179, 0.7))'
  }
}
```

**ä¿®æ”¹å…³ç³»æ ·å¼ - æ·¡è“è‰²å®çº¿**:
```javascript
if (isModified) {
  return {
    stroke: '#64b5f6',
    strokeWidth: 3,
    strokeDasharray: 'none',
    filter: 'drop-shadow(0 0 6px rgba(100, 181, 246, 0.6))'
  }
}
```

### 4. é«˜äº®é€»è¾‘ä¿®å¤

**æ–‡ä»¶**: `src/components/SubgraphFocusEditor.vue`

**ä¿®å¤äº†æ ·å¼ç±»åº”ç”¨é€»è¾‘**:
```javascript
// æ–°å¢å…ƒç´ 
if (node.data?.isNewlyAdded) {
  cleanNode.class = (cleanNode.class || '').replace(/\s*newly-added-node/g, '') + ' newly-added-node'
  cleanNode.data.isNewlyAdded = true
  cleanNode.data.isModified = true // ç¡®ä¿æ–°å¢èŠ‚ç‚¹ä¹Ÿæ ‡è®°ä¸ºä¿®æ”¹çŠ¶æ€
}

// ä¿®æ”¹å…ƒç´ 
else if (node.data?.isModified) {
  cleanNode.class = (cleanNode.class || '').replace(/\s*modified-node/g, '') + ' modified-node'
  cleanNode.data.isModified = true
}
```

## è°ƒè¯•ä¿¡æ¯

æ·»åŠ äº†è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—ï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­çœ‹åˆ°ï¼š

1. **èŠ‚ç‚¹çŠ¶æ€å˜åŒ–æ—¥å¿—**:
   - `CustomNode: èŠ‚ç‚¹ [èŠ‚ç‚¹å] æ–°å¢çŠ¶æ€å˜åŒ–: true/false`
   - `CustomNode: èŠ‚ç‚¹ [èŠ‚ç‚¹å] ä¿®æ”¹çŠ¶æ€å˜åŒ–: true/false`

2. **é«˜äº®åº”ç”¨æ—¥å¿—**:
   - `ğŸ”µ ä¿ç•™æ–°å¢èŠ‚ç‚¹æ ·å¼: [èŠ‚ç‚¹ID], class: [æ ·å¼ç±»]`
   - `âœï¸ ä¿ç•™ä¿®æ”¹èŠ‚ç‚¹æ ·å¼: [èŠ‚ç‚¹ID], class: [æ ·å¼ç±»]`

3. **å…ƒç´ å¤„ç†æ—¥å¿—**:
   - `ğŸ¯ ä¿®æ”¹å…ƒç´ è¯¦æƒ…: [è¯¦ç»†ä¿¡æ¯]`

## é¢„æœŸæ•ˆæœ

### æ–°å¢å…ƒç´ ï¼ˆæ·±è“è‰²ï¼‰
- **èŠ‚ç‚¹**: æ·±è“è‰²è™šçº¿è¾¹æ¡†ï¼Œå¸¦è„‰åŠ¨åŠ¨ç”»
- **è¾¹**: æ·±è“è‰²è™šçº¿ï¼Œè¾ƒç²—çº¿æ¡
- **èƒŒæ™¯**: æ·¡è“è‰²æ¸å˜

### ä¿®æ”¹å…ƒç´ ï¼ˆæ·¡è“è‰²ï¼‰  
- **èŠ‚ç‚¹**: æ·¡è“è‰²å®çº¿è¾¹æ¡†ï¼Œå¸¦è„‰åŠ¨åŠ¨ç”»
- **è¾¹**: æ·¡è“è‰²å®çº¿ï¼Œä¸­ç­‰çº¿æ¡
- **èƒŒæ™¯**: æµ…è“è‰²æ¸å˜

## æµ‹è¯•æ­¥éª¤

1. **è¿›å…¥å­å›¾èšç„¦ç¼–è¾‘æ¨¡å¼**
   - åœ¨æ­£å¼å›¾çº¸é˜¶æ®µé€‰æ‹©ä¸€ä¸ªå­å›¾
   - ç‚¹å‡»"èšç„¦ç¼–è¾‘"æŒ‰é’®

2. **æ‰§è¡Œæ•´ä½“æ™ºèƒ½ä¼˜åŒ–**
   - é€‰æ‹©"æ•´ä½“æ™ºèƒ½ä¼˜åŒ–"æ¨¡å¼
   - ç‚¹å‡»"å¼€å§‹æ™ºèƒ½åˆ†æ"
   - ç­‰å¾…AIåˆ†æå’Œä¼˜åŒ–å®Œæˆ

3. **éªŒè¯é«˜äº®æ•ˆæœ**
   - æ£€æŸ¥æ–°å¢çš„èŠ‚ç‚¹æ˜¯å¦æ˜¾ç¤ºåç§°
   - æ£€æŸ¥æ–°å¢å…ƒç´ æ˜¯å¦ä¸ºæ·±è“è‰²è™šçº¿é«˜äº®
   - æ£€æŸ¥ä¿®æ”¹å…ƒç´ æ˜¯å¦ä¸ºæ·¡è“è‰²å®çº¿é«˜äº®
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è°ƒè¯•æ—¥å¿—

4. **éªŒè¯äº¤äº’åŠŸèƒ½**
   - ç‚¹å‡»"é‡‡çº³ä¿®æ”¹"æˆ–"æ”¾å¼ƒä¿®æ”¹"
   - ç¡®è®¤é«˜äº®çŠ¶æ€æ­£ç¡®æ¸…é™¤æˆ–ä¿ç•™

## æ•…éšœæ’é™¤

å¦‚æœé«˜äº®ä»ç„¶æ²¡æœ‰æ­£ç¡®æ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ï¼š

1. **æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—**: æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯æˆ–è°ƒè¯•æ—¥å¿—
2. **å…ƒç´ æ£€æŸ¥**: ä½¿ç”¨æµè§ˆå™¨å¼€å‘å·¥å…·æ£€æŸ¥èŠ‚ç‚¹å’Œè¾¹çš„CSSç±»å
3. **æ•°æ®çŠ¶æ€**: ç¡®è®¤ `isNewlyAdded` å’Œ `isModified` å±æ€§æ˜¯å¦æ­£ç¡®è®¾ç½®

## æŠ€æœ¯ç»†èŠ‚

### CSSä¼˜å…ˆçº§
ä½¿ç”¨ `!important` ç¡®ä¿é«˜äº®æ ·å¼ä¼˜å…ˆçº§æœ€é«˜ï¼Œè¦†ç›–é»˜è®¤æ ·å¼ã€‚

### åŠ¨ç”»æ•ˆæœ
- `pulse-deep-blue`: æ·±è“è‰²è„‰åŠ¨åŠ¨ç”»ï¼ˆæ–°å¢å…ƒç´ ï¼‰
- `pulse-light-blue`: æ·¡è“è‰²è„‰åŠ¨åŠ¨ç”»ï¼ˆä¿®æ”¹å…ƒç´ ï¼‰

### å“åº”å¼æ›´æ–°
é€šè¿‡ Vue çš„å“åº”å¼ç³»ç»Ÿç¡®ä¿æ ·å¼å˜åŒ–å®æ—¶åæ˜ åˆ°ç•Œé¢ä¸Šã€‚
